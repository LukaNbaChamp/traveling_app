<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>åå¤å±‹æ»‘é›ª 2026 â„ï¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500&family=Noto+Serif+TC:wght@500;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        theme: {
                            bg: '#f8f7f4', // ç±³è‰²èƒŒæ™¯
                            text: '#333333', // æ·±ç°æ–‡å­—
                            muted: '#8e8e93', // æ¬¡è¦æ–‡å­—
                            accent: '#5F6B59', // å¢¨ç¶ è‰²å¼·èª¿ (é¡ä¼¼ç¯„ä¾‹ä¸­çš„æ¨™ç±¤èƒŒæ™¯)
                            line: '#e5e5ea', // åˆ†éš”ç·š
                        }
                    },
                    fontFamily: {
                        serif: ['"Noto Serif TC"', 'serif'],
                        sans: ['"Noto Sans TC"', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f8f7f4; color: #333; -webkit-tap-highlight-color: transparent; }
        h1, h2, h3, .time-serif { font-family: 'Noto Serif TC', serif; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        /* ç£¨ç ‚ç»ç’ƒæ•ˆæœç¨å¾®æ¸›å¼±ï¼Œæ›´æº«æ½¤ */
        .glass { background: rgba(248, 247, 244, 0.85); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border-bottom: 1px solid rgba(0,0,0,0.05); }
        .blur-secret { filter: blur(6px); transition: filter 0.3s; cursor: pointer; user-select: none; }
        .blur-secret:active, .blur-secret.revealed { filter: blur(0); }
        
        /* æ–°å¢ï¼šè©³æƒ…é é¢çš„æ¨£å¼ */
        .detail-modal-content { border-radius: 24px 24px 0 0; box-shadow: 0 -4px 20px rgba(0,0,0,0.08); }
        .point-and-speak-box { background-color: #f0efeb; border-radius: 12px; padding: 16px; }
        .gps-box { border: 1px solid #e5e5ea; border-radius: 12px; padding: 16px; display: flex; align-items: center; }
        .detail-paragraph-title { font-weight: 700; color: #333; margin-bottom: 4px; display: block; }
    </style>
</head>
<body class="pb-24 bg-theme-bg">

    <div class="fixed top-0 w-full z-40 glass transition-all duration-300" id="top-bar">
        <div class="flex justify-between items-end px-5 py-4">
            <div>
                <p class="text-xs text-theme-muted tracking-[0.2em] uppercase mb-1">Family Trip</p>
                <h1 class="text-2xl font-bold text-theme-text">åå¤å±‹æ»‘é›ª <span class="text-base font-normal ml-1">2026</span></h1>
            </div>
            <div class="flex items-center space-x-3">
                 <button onclick="showDriverRant()" class="text-red-800 bg-red-100 p-2 rounded-full relative" style="font-size: 10px;">
                     <i class="fas fa-fire"></i>
                     <span class="absolute -top-1 -right-1 w-2 h-2 bg-red-600 rounded-full"></span>
                </button>
                 <a href="https://www.vjw.digital.go.jp/" target="_blank" class="text-theme-accent border border-theme-accent px-3 py-1 rounded-full text-xs font-medium active:bg-theme-accent active:text-white transition-colors">
                    VJW
                </a>
            </div>
        </div>
        
        <div class="flex overflow-x-auto hide-scrollbar px-4 pb-3 space-x-2" id="date-scroll">
            </div>
    </div>


    <div class="pt-36 px-5 space-y-8" id="itinerary-container">
         </div>


    <div class="fixed bottom-0 w-full bg-theme-bg/90 backdrop-blur-md border-t border-theme-line flex justify-around py-3 pb-6 z-50 text-[10px] font-medium text-theme-muted">
        <button class="flex flex-col items-center text-theme-accent">
            <i class="fas fa-calendar-day text-lg mb-1"></i>è¡Œç¨‹
        </button>
        <button class="flex flex-col items-center hover:text-theme-text" onclick="window.open('https://goo.gl/maps/example', '_blank')"> <i class="fas fa-map-marked-alt text-lg mb-1"></i>åœ°åœ–
        </button>
        <button class="flex flex-col items-center hover:text-theme-text" onclick="showSkiModal()">
            <i class="fas fa-snowflake text-lg mb-1"></i>æ»‘é›ª
        </button>
        <button class="flex flex-col items-center hover:text-theme-text" onclick="showChecklist()">
            <i class="fas fa-clipboard-check text-lg mb-1"></i>æ¸…å–®
        </button>
    </div>


    <div id="modal-event-detail" class="fixed inset-0 bg-black/40 z-[60] hidden flex items-end justify-center transition-opacity duration-300" onclick="closeModal('modal-event-detail')">
        <div class="bg-theme-bg w-full h-[85vh] detail-modal-content overflow-y-auto p-6 relative transition-transform duration-300 translate-y-full" id="event-detail-card" onclick="event.stopPropagation()">
            
            <button onclick="closeModal('modal-event-detail')" class="absolute top-6 right-6 text-theme-muted p-2">
                <i class="fas fa-times text-xl"></i>
            </button>
            
            <div id="event-detail-content" class="mt-2 space-y-6 pb-10">
                </div>

        </div>
    </div>

    <div id="modal-driver" class="fixed inset-0 bg-black/80 z-[60] hidden flex items-center justify-center p-6" onclick="closeModal('modal-driver')">
        <div class="bg-white rounded-2xl p-6 w-full max-w-sm relative overflow-hidden text-center" onclick="event.stopPropagation()">
            <i class="fas fa-bomb text-4xl text-red-600 mb-4"></i>
            <h3 class="text-xl font-bold text-gray-800 mb-4 font-serif">å¸æ©Ÿçš„å…§å¿ƒç¨ç™½</h3>
            <p id="driver-quote" class="text-lg text-gray-700 font-serif italic mb-8 leading-relaxed">...</p>
            <button onclick="closeModal('modal-driver')" class="w-full bg-theme-accent text-white py-3 rounded-xl font-bold">è¾›è‹¦äº†ï¼Œè«‹å–é£²æ–™ ğŸ¥¤</button>
        </div>
    </div>

    <div id="modal-ski" class="fixed inset-0 bg-black/60 z-[60] hidden flex items-end sm:items-center justify-center" onclick="closeModal('modal-ski')">
        <div class="bg-theme-bg rounded-t-2xl sm:rounded-2xl w-full sm:max-w-md p-6 max-h-[80vh] overflow-y-auto detail-modal-content" onclick="event.stopPropagation()">
            <h3 class="text-xl font-bold mb-6 font-serif flex items-center"><i class="fas fa-skiing text-theme-accent mr-3"></i>æ•™ç·´ & ç§Ÿå€Ÿæ¯”åƒ¹</h3>
            <div class="space-y-4">
                <p class="text-sm text-theme-muted">æ­¤è™•çœç•¥æ»‘é›ªæ¯”åƒ¹å…§å®¹ï¼Œè«‹ä½¿ç”¨åŸç‰ˆä»£ç¢¼å¡«å……ã€‚</p>
            </div>
            <button onclick="closeModal('modal-ski')" class="mt-6 w-full bg-theme-line text-theme-text py-3 rounded-xl font-bold">é—œé–‰</button>
        </div>
    </div>

    <div id="modal-checklist" class="fixed inset-0 bg-black/60 z-[60] hidden flex items-end sm:items-center justify-center" onclick="closeModal('modal-checklist')">
         <div class="bg-theme-bg rounded-t-2xl sm:rounded-2xl w-full sm:max-w-md p-6 h-[70vh] flex flex-col detail-modal-content" onclick="event.stopPropagation()">
            <h3 class="text-xl font-bold mb-6 font-serif">è¡Œææª¢æŸ¥è¡¨</h3>
            <div class="flex-1 overflow-y-auto space-y-2">
                <label class="flex items-center p-3 bg-white border border-theme-line rounded-lg">
                    <input type="checkbox" class="w-5 h-5 text-theme-accent rounded focus:ring-theme-accent">
                    <span class="ml-3 text-theme-text">å°ç£é§•ç…§ + æ—¥æ–‡è­¯æœ¬ (çµ•å°è¦å¸¶!!)</span>
                </label>
                 <label class="flex items-center p-3 bg-white border border-theme-line rounded-lg">
                    <input type="checkbox" class="w-5 h-5 text-theme-accent rounded">
                    <span class="ml-3 text-theme-text">è­·ç…§ (æª¢æŸ¥æ•ˆæœŸ)</span>
                </label>
            </div>
             <button onclick="closeModal('modal-checklist')" class="mt-4 w-full bg-theme-accent text-white py-3 rounded-xl font-bold">å®Œæˆ</button>
         </div>
    </div>


    <script>
        // === è³‡æ–™ä¸­å¿ƒ (çµæ§‹å·²æ›´æ–°ä»¥æ”¯æ´è©³ç´°æ”»ç•¥) ===
        // é‡è¦ï¼šæˆ‘ç¤ºç¯„æ€§åœ°å¡«å……äº† Day 1 çš„éƒ¨åˆ†è³‡æ–™ã€‚ä½ éœ€è¦ä¾ç…§é€™å€‹æ ¼å¼ç‚ºå…¶ä»–æ™¯é»æ·»åŠ  'address', 'gpsPhone', 'details' ç­‰è³‡è¨Šã€‚
        const tripData = [
            {
                date: "1/17", day: "Day 1", week: "å…­", city: "Takayama", weatherCity: "Takayama",
                events: [
                    { 
                        time: "06:45", title: "æŠµé” åå¤å±‹ (MM722)", type: "flight", categoryEN: "FLIGHT",
                        desc: "ä¸­éƒ¨åœ‹éš›æ©Ÿå ´ T1 / æ¨‚æ¡ƒèˆªç©º",
                        // æ²’æœ‰è©³ç´°æ”»ç•¥çš„é …ç›®å¯ä»¥çœç•¥ details æ¬„ä½
                    },
                    { 
                        time: "08:00", title: "å–è»Š (ORIX Rent-A-Car)", type: "car", categoryEN: "TRANSPORT",
                        desc: "å‚™å¦¥é§•ç…§è­¯æœ¬ï¼Œå‰å¾€æ«ƒæª¯ã€‚",
                        address: "æ„›çŸ¥çœŒå¸¸æ»‘å¸‚ã‚»ãƒ³ãƒˆãƒ¬ã‚¢1-1 (ä¸­éƒ¨åœ‹éš›æ©Ÿå ´åº—)",
                        gpsPhone: "0569-38-7660", // ç¯„ä¾‹é›»è©±
                        parkingTarget: { shown: "ã‚ªãƒªãƒƒã‚¯ã‚¹ãƒ¬ãƒ³ã‚¿ã‚«ãƒ¼", read: "Oricks Rent-a-car" }, // ç”¨æ–¼æŒ‡å·®ã—ä¼šè©±
                        details: [
                            { title: "ã€å–è»Šæ”»ç•¥ã€‘", content: "å‡ºé—œå¾Œè«‹å¾€ã€Œäº¤é€šå»£å ´ (Access Plaza)ã€æ–¹å‘ç§»å‹•ã€‚ORIX æ«ƒæª¯é€šå¸¸äººæ¯”è¼ƒå¤šï¼Œå»ºè­°ä¸€äººå…ˆå»æ’éšŠï¼Œå…¶ä»–äººé ˜è¡Œæã€‚è«‹ç¢ºèªæ˜¯å¦æœ‰ç§Ÿå€Ÿ ETC å¡ã€‚" },
                            { title: "ã€é‡è¦æé†’ã€‘", content: "å‡ºç™¼å‰è«‹å‹™å¿…æª¢æŸ¥è»Šèº«åˆ®ç—•ä¸¦æ‹ç…§éŒ„å½±ç•™å­˜ã€‚è¨­å®šå¥½å°èˆªè‡³ä¸‹ä¸€ç«™å†å‡ºç™¼ã€‚" }
                        ]
                    },
                    { 
                        time: "12:00", title: "é«˜å±±è€è¡— åˆé¤", type: "food", categoryEN: "FOOD",
                        desc: "é£›é©’ç‰›æ¡å£½å¸ / é€›è¡—",
                        address: "å²é˜œçœŒé«˜å±±å¸‚ä¸Šä¸‰ä¹‹ç”º",
                        gpsPhone: "0577-32-3333", (é«˜å±±è§€å…‰æ¡ˆå…§æ‰€ä»£è¡¨è™Ÿ)
                        parkingTarget: { shown: "å¸‚å–¶ç¥æ˜é§è»Šå ´", read: "ã—ãˆã„ã—ã‚“ã‚ã„ã¡ã‚…ã†ã—ã‚ƒã˜ã‚‡ã†" },
                        details: [
                             { title: "ã€åœè»Šæ”»ç•¥ã€‘", content: "è€è¡—å€ç¦æ­¢è»Šè¼›é€²å…¥ã€‚æ¨è–¦åœåœ¨ã€Œå¸‚ç‡Ÿç¥æ˜åœè»Šå ´ã€æˆ–ã€Œå¸‚ç‡Ÿä¸å‹•æ©‹åœè»Šå ´ã€ï¼Œæ­¥è¡Œè‡³è€è¡—ç´„ 5-10 åˆ†é˜ã€‚è²»ç”¨ç´„ç‚º 30åˆ†é˜ 150æ—¥åœ“ã€‚" },
                             { title: "ã€å¿…åƒç¾é£Ÿã€‘", content: "ä¸€å®šè¦è©¦è©¦ã€Œé£›é©’ç‰›æ¡å£½å¸ã€ï¼é€šå¸¸æ˜¯ç”¨ç…é¤…ç•¶ç›¤å­ç››è£ã€‚å¦å¤–æ¨è–¦äº”å¹³é¤…å’Œé£›é©’ç‰›ä¸²
